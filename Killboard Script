local Players = game:GetService("Players")

Players.PlayerAdded:Connect(function(Player)
	local leaderstats = Instance.new("Folder")
	leaderstats.Name = "leaderstats"
	leaderstats.Parent = Player

	local Kills = Instance.new("NumberValue")
	Kills.Name = "‚öî Kills"
	Kills.Value = 0
	Kills.Parent = leaderstats

	local Deaths = Instance.new("NumberValue")
	Deaths.Name = "üíÄ Deaths"
	Deaths.Value = 0
	Deaths.Parent = leaderstats
	
	local KDA = Instance.new("NumberValue")
	KDA.Name = "‚≠ê KDA"
	KDA.Value = 0
	KDA.Parent = leaderstats
	
	local function UpdateKDA()
		KDA.Value = Kills.Value / math.max(Deaths.Value, 1)
	end

	Kills.Changed:Connect(UpdateKDA)
	Deaths.Changed:Connect(UpdateKDA)

	Player.CharacterAdded:Connect(function(Character)
		local Humanoid = Character:WaitForChild("Humanoid")

		Humanoid.Died:Connect(function()
			Deaths.Value = Deaths.Value + 1
			local Tag = Humanoid:FindFirstChild("creator")
			if Tag and Tag.Value and Tag.Value:IsA("Player") then
				local KilledPlayer = Tag.Value
				local KillsStat = KilledPlayer:FindFirstChild("leaderstats"):FindFirstChild("‚öî Kills")
				if KillsStat then
					KillsStat.Value = KillsStat.Value + 1
				end
			end
		end)
	end)
end)
